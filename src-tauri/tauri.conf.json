{
    "$schema": "https://schema.tauri.app/config/2",
    "productName": "ImageToText Desktop",
    "identifier": "com.yourorg.imagetotext",
    "version": "0.1.0",
  
    "build": {
      // during `tauri dev`, start Streamlit locally on a fixed port
      "beforeDevCommand": "bash -lc \"./start.sh -- --server.port 8590 --server.headless true --browser.gatherUsageStats false\"",
      "devUrl": "http://127.0.0.1:8590",
      // for `tauri build`, we still embed a tiny dist (can be project root).
      "frontendDist": "."
    },
  
    "app": {
      "security": {
        "capabilities": []
      },
      "windows": [
        {
          "label": "main",
          "title": "ImageToText Desktop",
          "width": 1280,
          "height": 900,
          "resizable": true,
          "fullscreen": false,
          // packaged builds will also load this URL; main.rs will ensure the server is up.
          "url": "http://127.0.0.1:8590"
        }
      ],
      "withGlobalTauri": false
    },
  
    "bundle": {
      "active": true,
      "icon": [
        "icons/icon.icns",
        "icons/icon.ico",
        "icons/icon.png"
      ],
      // produce updater bundles (.tar.gz/.zip + .sig)
      "createUpdaterArtifacts": true,
      // (optional) ship your helper scripts alongside the app bundle
      "externalBin": [
        "../start.sh",
        "../start_windows.bat"
      ],
      "macOS": {
        "entitlements": null,
        "exceptionDomain": "",
        "signingIdentity": null
      },
      "windows": {
        "wix": {
          "language": "en-US"
        }
      }
    },
  
    "plugins": {
      "updater": {
        // TODO: replace with your real public key from `tauri signer generate`
        "pubkey": "CHANGE_ME_PUBLIC_KEY",
        // You can use GitHub Releases (static JSON) or any server. We'll add CI to publish this.
        "endpoints": [
          "https://github.com/yourorg/yourrepo/releases/latest/download/latest.json"
        ],
        "windows": {
          "installMode": "passive"
        }
      }
    }
  }
  